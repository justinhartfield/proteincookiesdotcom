window.EmailSignup={async submit(i,a,n,t=null){try{if(!(await fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,packName:a,source:t||window.location.pathname})})).ok)throw new Error("Failed to submit email");return n&&(window.location.href=n),!0}catch(i){return console.error("Email signup failed:",i),alert("Something went wrong. Please try again."),!1}}},window.emailForm=(i,a)=>({email:"",loading:!1,async submitForm(){this.email&&!this.loading&&(this.loading=!0,await window.EmailSignup.submit(this.email,i,a),this.loading=!1)}});